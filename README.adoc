:experimental:
:imagesdir: Images/
ifdef::env-github[]
:icons:
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]


[%collapsible]
.Be specific about what W11Boost does.

====

.*Notices about using W11Boost*
. It's assumed you use an SSD. There will be unintentional slowdown on HDDs (slow disks).
. Windows Updates will not automatically be cleared out. Run the built-in "Disk Cleanup" as administrator to clear them out.

.*Performance*
. App or program startups are not tracked.

. Login screen's acrylic blur is disabled.

. Enabled the following:
- NTFS non-paged pool usage; reduces page-faults and stack usage to lessen DPC latency spikes.

- DXGI's DirectFlip with multi-plane overlay (MPO) enabled to lower input lag and reduce stuttering in games.

- Idle tickless for lower power draw, but also has performance benefits to real-time programs like DAWs or virtual machines, and foreground programs like video games.

- Enabled the BBRv2 TCP congestion control algorithm to maintain low ping and high speeds during excessive download or upload, it also noticeably increases download & upload speeds during high ping (70ms+).


. Disabled the following:
- Analyzing application execution time.

- NTFS Last Access Time Stamp Updates; if needed, an application can explicitly update its own access timestamps.

- Fault Tolerant Heap. FTH severely degrades an application's performance if it got marked for "crashing" too often, such is the case for Assetto Corsa.

- Explorer's thumbnail shadows. Makes folders with many photos or videos smoother to navigate.

- Searching disks to attempt fixing a missing shortcut.

- MemoryCompression to reduce CPU load and reduce stuttering in video games; downside: higher disk usage if RAM is nearly or entirely used up.

- PageCombining to reduce CPU load; downside: increased RAM usage.

- Windows tips in general, such as "recommendations for tips, shortcuts, new apps, and more". This could be considered a usability issue as well for those already versed in using Windows.

. Disabled various forms of telemetry:
- Visual Studio 2022's PerfWatson2 (VSCEIP).

- Windows Error Reporting, Connected User Experiences and Telemetry, Diagnostic Policy Service, Cloud Content & Consumer Experience.

- Advertising ID for apps (.appx packaged).

- Feedback notifications.


.*Reliability*

. Windows Updates:
- Now only prompts for download then installation; updates are never automatic.
- Updates that Microsoft deems as causing compatibility issues are blocked.
- Opted out of "being the first to get the latest non-security updates".

. NTP time sync servers are changed to `time.cloudflare.com ntppool1.time.nl ntppool2.time.nl` to reduce time sync failure.
** Very important for Tor and 2FA codes from Bitwarden to remain working.
. UAC is enabled for both security, and fixing applications that break from UAC being off, such as Eddie-UI.

. Disabled the following:
- Automated file cleanup that kicks in if disk space is running low.

- 'Wait For Link' on Ethernet adaptors. Can reduce time taken to establish a connection, and prevent drop-outs. Drop-outs were the case with Intel I225-V revision 1 and 2, but not 3.

- Fast startup (also called 'hybrid shutdown') due to stability issues, and excessive disk usage.

- Microsoft's Malicious Removal Tool, which also has an issue of removing "malicious" files that other antivirus software like Kaspersky excluded.

. Enabled separating explorer.exe, one for the Windows Shell, the other for the File Explorer.

. Game Mode enabled to keep FPS consistent in games in certain situations, such as having OBS Studio recording your games.

. IPv6 is used whenever possible; avoids NAT and handles fragmentation locally instead of on the router, leading to higher performance and reliability.

. Enabled "smart multi-homed name resolution".
- Having this feature disabled can make DNS requests extremely slow, which some bad VPN programs do as a hack to prevent DNS leaks.

. Crash fix for programs using OpenSSL 1.0.2k (Jan 2017) or older; only applied if an Intel CPU is used.

. TCP timestamps enabled for increased reliability under bad network conditions.

. The default 2GB memory boundary is ensured for x86 programs.
- Prevent bugs or crashes with x86 programs that aren't specifically tested for LargeAddressAware (3GB limit).
- Manually patch programs with LAA if it's known to be beneficial, such as in GTA:SA.

.*Usability*

. Hidden file extensions are shown.
- If they're hidden, they are abused to hide the real file format for malicious purposes. Example: an executable (.exe, .scr) pretending to be a PDF.

. Apps are no longer automatically archived.
- Archived apps would take a long time to launch, as it needs to reinstall (unarchive) itself.

. The lock screen is replaced with the login screen.

. Windows is activated using the KMS38 method if it wasn't activated prior. This also prevents deactivation after hardware changes.

. Installs `winget` if missing or broken.

. Enabled NTFS long paths to prevent issues with Scoop and other programs.

. Ask to enter recovery options after 3 failed boots instead of forcing it.


.*Other*
. W11Boost's changes are tunneled through the Group Policy Editor, therefore:
- Windows Update does not revert W11Boost's changes.
- W11Boost's changes can be viewed from a graphical interface via `rsop.msc`. +
image:RSOP.png[]
- Registry changes are non-destructive, as they are easily revertible without relying on System Restore or registry backups.

'''

====

. https://github.com/felikcat/W11Boost/archive/refs/heads/master.zip[Download W11Boost] then extract it.
- Alternatively, download an https://github.com/felikcat/W11Boost/archive/refs/heads/windows-10.zip[old version] that supports Windows 10.

. Run `Install.bat` as Administrator.

. Wait for the automatic reboot and enjoy.


== Extras

. `W11_LTSC_Replica.bat`
* De-bloats Windows 11 enough to replicate what Windows 10 Enterprise LTSC 2021 includes by default, which is known to only include what's important.
*** *Exceptions* to prevent breaking apps or programs: App Installer, Store Experience Host, Windows Store, Xbox Game Speech Window.

. `Install_Xbox_Minimal.bat`
- This is meant for if `W11_LTSC_Replica.bat` was used, or for an LTSC variant of Windows.

- Login to the Microsoft Store before using `Install_Xbox_Minimal.bat`!

** Installs only what's required to support Xbox Controllers (GUI/interface not included, get it link://www.microsoft.com/store/productId/9NBLGGH30XJ3[here]), Microsoft's PC Game Pass, and specific games such as Forza Horizon 4 & 5.
*** To also get the Game Bar, install the following link://www.microsoft.com/store/productId/9NZKPSTSNW4P[here] then link://www.microsoft.com/store/productId/9NBLGGH537C2[here].


. `Advanced.bat`
** Not meant for usage on PCs you don't personally use.
** Contains extra features, such as the removal of Microsoft Edge.
*** Configuring `Advanced.ps1` is required: +
1. Open `Advanced.ps1` in a text editor or IDE of your choosing. +
2. After finished, run `Advanced.bat` as Administrator.

. `Harden.bat`
- Enables https://public.cyber.mil/stigs/[DoD STIG compliance] without being attached to an Active Directory hosted either on a Windows Server or Microsoft Entra ID (called "Azure AD" prior).

. `Uninstall.bat`
- Uninstalls W11Boost.

== Recommendations

=== BIOS
* *Enable the following:*
. I/O APIC (IOAPIC 24-119 Entries)
. Above 4G Decoding and Resizable BAR.
** On ASRock motherboards: C.A.M. (Clever Access Memory)
** This is incompatible with Windows installed on an MBR partition; if Windows can no longer boot, this setting caused it.
. HPET (High Precision Event Timer)

* *Disable the following:*
. XHCI Hands Off
. USB Legacy
** link://techcommunity.microsoft.com/t5/microsoft-usb-blog/reasons-to-avoid-companion-controllers/ba-p/270710[Why disable these two?] +
Note: if a USB is no longer bootable after these two changes, turn them both back on.


=== Windows
TIP: These tips increase performance, stability, and security.

. Keep the number of programs installed to a minimum, and remove unused programs. This reduces your chances of being impacted by https://www.bleepingcomputer.com/news/security/hackers-compromise-3cx-desktop-app-in-a-supply-chain-attack/[supply chain attacks] and to prevent causing Windows more issues.

. Replace Consumer OEM programs with their Enterprise variant. Such as replacing Lenovo Vantage with Lenovo Commercial Vantage.
