:experimental:
:imagesdir: Images/
ifdef::env-github[]
:icons:
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
endif::[]
.By default, W11Boost's most important goals compared to alternatives are:
. No apps, drivers, etc are broken.
. No security sacrifices; also that most security reductions bring fake/placebo performance increases.
. Minimal changes to how a PC after installing W11Boost is used compared to prior.

- W11Boost can aid with reducing your tech support requests by family members, co-workers, etc.

[%collapsible]
.I want to know exactly what W11Boost does.

====

.*Performance*
. App startups are not tracked.

. Enabled the following:
- Increased NTFS pool usage limit, reducing Windows' page-faults and stack usage. As a downside, RAM usage is increased.

- DXGI's DirectFlip with multi-plane overlay (MPO) enabled to lower input lag and reduce stuttering in games.

- Idle tickless for lower power draw, but also has performance benefits to real-time apps like DAWs or virtual machines, and foreground apps like video games.

- Enabled the BBRv2 TCP congestion control algorithm to maintain low ping and high speeds during excessive download or upload, it also noticeably increases download & upload speeds during high ping (70ms+).

- MemoryCompression reduces stuttering in video games by reducing the amount of writes to the paging file.

. Disabled the following:
- Analyzing application execution time.

- NTFS Last Access Time Stamp Updates; if needed, an application can explicitly update its own access timestamps.

- Fault Tolerant Heap. FTH severely degrades an application's performance if it got marked for "crashing" too often, such is the case for Assetto Corsa.

- Automatic offline maps updates.

- Explorer's thumbnail shadows. Makes folders with many photos or videos smoother to navigate.

- Searching disks to attempt fixing a missing shortcut.

- PageCombining to reduce CPU load and prevents https://kaimi.io/en/2020/07/reading-another-process-memory-via-windows-10-page-combining-en/[introducing security risks]; downside: increased RAM usage.

- Windows tips in general, such as "recommendations for tips, shortcuts, new apps, and more". This could be considered a usability issue as well for those already versed in using Windows.

. Disabled various forms of telemetry:
- Visual Studio 2022's PerfWatson2 (VSCEIP).
- Windows Error Reporting, Connected User Experiences and Telemetry, Diagnostic Policy Service, Cloud Content & Consumer Experience.
- Advertising ID for apps (.appx packaged).
- Feedback notifications.

. Disabled the following Scheduled Tasks:
- `Maintenance\WinSAT`: decides to measure overall PC performance at the worst times, drastically slowing down performance during its measurements.
- `MUI\LPRemove`: On boot-up, checks and removes unused language packs.
- `Power Efficiency Diagnostics\AnalyzeSystem`: Knowing this exists and looking for its results is on your part, very deliberate. It's better to manually run this to check for example, PCIe ASPM incompatibilities.
- `Windows\Autochk\Proxy`: An extension of "Microsoft Customer Experience Improvement Program" spyware.

. For Wi-Fi, other APs (Access Points) are never periodically scanned while currently connected to an AP.


.*Reliability*

. Windows Updates:
- Now only prompts for download then installation; updates are never automatic.
- Updates that Microsoft deems as causing compatibility issues are blocked.
- Opted out of "being the first to get the latest non-security updates".

. NTP time sync servers used are now 3 instead of 1, which are `time.cloudflare.com time.nist.gov time.windows.com` to reduce time sync failure.
** Very important for Tor and 2FA codes from Bitwarden to remain working.

. UAC is enabled for both security, and fixing applications that break from UAC being off, such as Eddie-UI.

. Disabled the following:
- Automated file cleanup that kicks in if disk space is running low.

- 'Wait For Link' on Ethernet adaptors. Can reduce time taken to establish a connection, and prevent drop-outs. Drop-outs were the case with Intel I225-V revision 1 and 2, but not 3.

- Fast startup (also called 'hybrid shutdown') due to stability issues, and excessive disk usage.

- Microsoft's Malicious Removal Tool, which also has an issue of removing "malicious" files that other antivirus software like Kaspersky excluded.

. Enabled separating explorer.exe, one for the Windows Shell, the other for the File Explorer.

. Game Mode enabled to keep FPS consistent in games in certain situations, such as having OBS Studio recording your games.

. IPv6 is used whenever possible; avoids NAT and handles fragmentation locally instead of on the router, leading to higher performance and reliability.

. Enabled "smart multi-homed name resolution".
- Having this feature disabled can make DNS requests extremely slow, which some bad VPN apps do as a hack to prevent DNS leaks.

. Crash fix for apps using OpenSSL 1.0.2k (Jan 2017) or older; only applied if an Intel CPU is used.

. TCP timestamps enabled for increased reliability under bad network conditions.

. The default 2GB memory boundary is ensured for x86 apps.
- Prevent bugs or crashes with x86 apps that aren't specifically tested for LargeAddressAware (3GB limit).
- Manually patch apps with LAA if it's known to be beneficial, such as in GTA:SA.

.*Usability*

. Hidden file extensions are shown.
- If they're hidden, they are abused to hide the real file format for malicious purposes. Example: an executable (.exe, .scr) pretending to be a PDF.

. Apps are no longer automatically archived.
- Archived apps would take a long time to launch, as it needs to unarchived.

. The lock screen is replaced with the login screen.

. Windows is activated using the KMS38 method if it wasn't activated prior. This also prevents deactivation after hardware changes.

. Installs `winget` if missing or broken.

. Enabled NTFS long paths to prevent issues with Scoop and other apps.

. Ask to enter recovery options after 3 failed boots instead of forcing it.


.*Other*
. Importing/setting wallpapers is set to 100% of JPEG's quality; less compression, therefore less "blurriness".

. W11Boost's changes are tunneled through the Group Policy Editor, therefore:
- Windows Update does not revert W11Boost's changes.
- W11Boost's changes can be viewed from a graphical interface via `rsop.msc`. +
image:RSOP.png[]
- Registry changes are non-destructive, as they are easily revertible without relying on System Restore or registry backups.

'''

====
.*Before installing W11Boost*
. If you are using a custom Windows ISO such as Atlas OS, do a clean installation of Windows 11 Education using https://www.microsoft.com/en-us/software-download/windows11[Microsoft's official ISOs]. +
image:Windows_11_ISO.png[]

.*Installing W11Boost*
. https://github.com/felikcat/W11Boost/archive/refs/heads/master.zip[Download W11Boost] then extract it.

. Open `Install.bat`.

. Wait for the automatic reboot and enjoy.


== Extras

. `Microsoft_App_Debloat.bat` de-bloats Windows 11 enough to replicate what Windows 10 Enterprise LTSC 2021 includes by default, which is known to only include what's important.
- *Exclusions*:
** Due to breaking apps: App Installer, Store Experience Host, Windows Store, Xbox Game Speech Window.
** Due to being high-quality, and not funneling advertisements or towards using a Microsoft account: Camera, Clock, Terminal, Maps, Phone Link.

. `Install_Xbox_Minimal.bat` is meant for if `Microsoft_App_Debloat.bat` was used, or for an LTSC variant of Windows.

- Login to the Microsoft Store before using `Install_Xbox_Minimal.bat`!

- Installs only what's required to support Xbox Controllers (GUI/interface not included, get it link://www.microsoft.com/store/productId/9NBLGGH30XJ3[here]), Microsoft's PC Game Pass, and specific games such as Forza Horizon 4 & 5.
** To also get the Game Bar, install the following link://www.microsoft.com/store/productId/9NZKPSTSNW4P[here] then link://www.microsoft.com/store/productId/9NBLGGH537C2[here].


. `Advanced.bat` can remove Microsoft Edge, disable Game DVR, remove various forms of automation, etc.
** Configuring `Advanced.ps1` is required: +
1. Open `Advanced.ps1` in a text editor or IDE of your choosing. +
2. After finished, run `Advanced.bat` as Administrator.

. `Apply_STIGs.bat` enforces a higher base-line of security via https://public.cyber.mil/stigs/[DoD STIG compliance], and avoids breaking most apps.
- This cannot be a perfect replica, as it's local only. +
This will not attach to an Active Directory hosted either locally via a Windows Server, or an online server via Microsoft Entra ID (called "Azure AD" prior).

. `Harden_Further.bat` is intended to be run after `Apply_STIGs.bat`.
- This will break a lot more programs and use-cases; currently not documented.

. `Use_Quad9_DoH.bat` sets up encrypted DNS via Quad9 servers.

. `Uninstall.bat`
- Uninstalls W11Boost.

.Usage guide / tips after using Harden.bat
[%collapsible]
====

. Defender SmartScreen will block "unknown" apps from running. Go into that apps' properties to unblock it.

====


== Recommendations

=== Ethernet
. Avoid Realtek 2.5Gbit adapters, as they are much more CPU intensive than Intel 2.5Gbit adapters.

- Intel i225-V rev3 (important, as older revisions have serious issues):
image:Intel_i225v_LM.png[]
- "Realtek Gaming 2.5GbE Family Controller":
image:Realtek_LM.png[]
image:Realtek_HID.png[]

[%collapsible]
.Buying an Intel i225-V PCIe card
====
The Intel i225-V PCIe card tested is https://www.aliexpress.com/store/1100410590[IOCrest's variant], which works well our 6700k and 12700k PCs.
image:IOCrest_i225-V3_purchase.png[]
image:Intel_HID.png[]

I have not tested https://www.aliexpress.com/store/1101345677/search?SearchText=i226[DERAPID's Intel i226-V PCIe cards], which are similarly priced and rate well.
====

=== GPU
. To get https://kernel.org/doc/html/next/gpu/amdgpu/display/mpo-overview.html[Multiplane Overlay] working on NVIDIA cards:
- Set your display's "Output color depth" to 8bpc.
image:nvcplui_1.png[]
- Do not use: custom resolutions, DSR, or scaling.

=== BIOS
* *Enable the following:*
. I/O APIC (IOAPIC 24-119 Entries)
. Above 4G Decoding and Resizable BAR.
** On ASRock motherboards: C.A.M. (Clever Access Memory)
. HPET (High Precision Event Timer)

* *Disable the following:*
. XHCI Hands Off
. USB Legacy
** link://techcommunity.microsoft.com/t5/microsoft-usb-blog/reasons-to-avoid-companion-controllers/ba-p/270710[Why disable these two?] +
Note: if a USB is no longer bootable after these two changes, turn them both back on.


=== Windows
. Keep the number of apps installed to a minimum, and remove unused apps. This reduces your chances of being impacted by https://www.bleepingcomputer.com/news/security/hackers-compromise-3cx-desktop-app-in-a-supply-chain-attack/[supply chain attacks], prevents causing Windows more issues, and might improve FPS stability.

. Replace Consumer OEM apps with their Enterprise variant. Such as replacing Lenovo Vantage with Lenovo Commercial Vantage.
